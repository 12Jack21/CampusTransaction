{"version":3,"sources":["webpack:///H:/Frontend/main.js","webpack:///H:/Frontend/pages/search/search.vue?b3d9","webpack:///H:/Frontend/pages/search/search.vue?ada4","webpack:///H:/Frontend/pages/search/search.vue?ee4e","webpack:///H:/Frontend/pages/search/search.vue?c23a","webpack:///H:/Frontend/pages/search/search.vue","webpack:///H:/Frontend/pages/search/search.vue?fe62","webpack:///H:/Frontend/pages/search/search.vue?8323"],"names":["createPage","Page","iniPagination","pageIndex","pageSize","endtime","Date","format","finish","searchHistories","conditionMap","sort","outdated","price","sortVal","oVal","highprice","lowprice","components","goodsList","HMfilterDropdown","uniLoadMore","youScroll","data","search_close","search_ph","searchKey","searchView","deleteView","backHistories","histories","recommendations","goodsData","filterData","filterDropdownValue","filterValues","loadStatus","pagination","searchBody","computed","leftGoods","filter","e","index","rightGoods","onLoad","param","console","log","_home_data","type_index","type","undefined","parseInt","typeName","address","doSearch","setTimeout","filter_data","onReady","_tool","setBarColor","uni","pageScrollTo","scrollTop","duration","onReachBottom","methods","goodsListTap","navigateTo","url","id","finishDel","delIds","v","indexOf","length","$api","delSearchHistory","then","success","slice","showToast","title","icon","catch","err","cancelDel","delAllHistory","showModal","content","cancel","clearSearchHistory","userId","res","getSearchHistory","$appi","onPullDown","done","searchTap","key","confirmFilter","JSON","stringify","value","Object","assign","BackPage","navigateBack","searchInput","event","detail","closeInput","condition","trim","getSearchResult","resp","push","pageList","pageCount"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=7b93cc95&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=7b93cc95&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b93cc95\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"Frontend/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=7b93cc95&scoped=true&\"","var components = {\n  \"you-scroll\": function() {\n    return import(\n      /* webpackChunkName: \"components/you-scroll/you-scroll\" */ \"@/components/you-scroll/you-scroll.vue\"\n    )\n  },\n  \"uni-load-more\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.searchView = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.deleteView = true\n    }\n\n    _vm.e2 = function($event) {\n      return _vm.histories.splice(_vm.index, 1)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport _tool from '@/static/zaiui/util/tools.js' //工具函数\r\nimport goodsList from '@/components/list/goods-list.vue'\r\nimport HMfilterDropdown from '@/components/HM-filterDropdown/HM-filterDropdown.vue'\r\nimport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue'\r\nimport youScroll from '@/components/you-scroll/you-scroll.vue'\r\nimport { mapState } from 'vuex'\r\nimport handles from '@/utils/handles.js'\r\n\r\nimport _home_data from '@/static/zaiui/data/home.js' //虚拟数据\r\nimport filter_data from '../../static/data/filters.js'\r\n\r\nconst iniPagination = {\r\n\t\t\t\tpageIndex:0,\r\n\t\t\t\tpageSize:20,\r\n\t\t\t\tendtime:new Date().format('yyyy-MM-dd hh:mm'),\r\n\t\t\t\tfinish: false\r\n\t\t\t}\r\nconst searchHistories = () => ['耳机', '大英课本', '四六级试卷', '电动车'] // virtual\r\nconst conditionMap = (sort,outdated,price) =>{\r\n\tlet sortVal, oVal = -1, highprice = -1, lowprice = -1\r\n\tswitch(sort){\r\n\t\tcase 'time':\r\n\t\t\tsortVal = 4\r\n\t\t\tbreak\r\n\t\tcase 'price':\r\n\t\t\tsortVal = 5 \r\n\t\t\tbreak\r\n\t\tcase 'outdatedTime':\r\n\t\t\tsortVal = 6\r\n\t\t\tbreak\r\n\t\tcase 'evaluation':\r\n\t\t\tsortVal = 7\r\n\t\t\tbreak\r\n\t}\r\n\tswitch(outdated){\r\n\t\tcase '1天内':\r\n\t\t\toVal = 1\r\n\t\t\tbreak\r\n\t\tcase '3天内':\r\n\t\t\toVal = 3\r\n\t\t\tbreak\r\n\t\tcase '1周内':\r\n\t\t\toVal = 7\r\n\t\t\tbreak\r\n\t\tcase '1月内':\r\n\t\t\toVal = 30\r\n\t\t\tbreak\r\n\t}\r\n\tswitch(price){\r\n\t\tcase '50以下':\r\n\t\t\thighprice = 50\r\n\t\t\tlowprice = 0\r\n\t\t\tbreak\r\n\t\tcase '50-100':\r\n\t\t\thighprice = 100\r\n\t\t\tlowprice = 50\r\n\t\t\tbreak\r\n\t\tcase '100-300':\r\n\t\t\thighprice = 300\r\n\t\t\tlowprice = 100\r\n\t\t\tbreak\r\n\t\tcase '300以上':\r\n\t\t\tlowprice = 300\r\n\t}\r\n\treturn {\r\n\t\toutdated: oVal,\r\n\t\tsort: sortVal,\r\n\t\thighprice,lowprice\r\n\t}\r\n}\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tgoodsList,\r\n\t\tHMfilterDropdown,\r\n\t\tuniLoadMore,\r\n\t\tyouScroll\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearch_close: false,\r\n\t\t\tsearch_ph: '高数',\r\n\t\t\tsearchKey: '',\r\n\t\t\tsearchView: true,\r\n\t\t\tdeleteView: false, // 删除搜索记录的视图\r\n\t\t\tbackHistories: searchHistories(),\r\n\t\t\thistories: searchHistories(),\r\n\t\t\trecommendations: ['耳机', '电动车', '笔记本', '华为手机', 'AJ鞋', '篮球'],\r\n\t\t\tgoodsData: [],\r\n\t\t\tfilterData: '',\r\n\t\t\tfilterDropdownValue: [],\r\n\t\t\tfilterValues: [],\r\n\t\t\tloadStatus: 'more',\r\n\t\t\tpagination:{\r\n\t\t\t\tpageIndex:0,\r\n\t\t\t\tpageSize:20,\r\n\t\t\t\tendtime:'',\r\n\t\t\t\tfinish: false\r\n\t\t\t},\r\n\t\t\tsearchBody:null\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['userId']),\r\n\t\tleftGoods() {\r\n\t\t\treturn this.goodsData.filter((e, index) => index % 2 === 0)\r\n\t\t},\r\n\t\trightGoods() {\r\n\t\t\treturn this.goodsData.filter((e, index) => index % 2 === 1)\r\n\t\t}\r\n\t},\r\n\tonLoad(param) {\r\n\t\tconsole.log('search page onLoad, param:', param)\r\n\t\tthis.goodsData = _home_data.goodsList() //虚拟\r\n\t\t\r\n\t\tlet type_index = 0\r\n\t\tif (param.type !== undefined) {\r\n\t\t\ttype_index = parseInt(param.type)\r\n\t\t\tconsole.log('type_index', type_index)\r\n\t\t\tthis.searchView = false // switch to result list\r\n\t\t\tlet searchBody = {\r\n\t\t\t\ttype: param.typeName,\r\n\t\t\t\taddress: '全校',\r\n\t\t\t\tsort: '最新',\r\n\t\t\t\toutdated: -1, //没有限制\r\n\t\t\t\thighprice: -1,\r\n\t\t\t\tlowprice:-1\r\n\t\t\t}\r\n\t\t\tthis.doSearch(searchBody)\r\n\t\t\tthis.search_ph = ''\r\n\t\t}\r\n\t\t// Im: 必须用 setTimeout才能初始化\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.filterDropdownValue = [\r\n\t\t\t\t[0, type_index || 0], //type\r\n\t\t\t\t[0], //第2个菜单选中 一级菜单的第1项\r\n\t\t\t\t[0],\r\n\t\t\t\t[[], []] //筛选菜单选中 第一个筛选的第0项，第二个筛选的第1,2,7项，第三个筛选的第1,0项\r\n\t\t\t]\r\n\t\t\tthis.filterData = filter_data\r\n\t\t}, 0)\r\n\t},\r\n\tonReady() {\r\n\t\tconsole.log('ready', this.filterDropdownValue)\r\n\t\t_tool.setBarColor(true)\r\n\t\tuni.pageScrollTo({\r\n\t\t\tscrollTop: 0,\r\n\t\t\tduration: 0\r\n\t\t})\r\n\t},\r\n\tonReachBottom(){\r\n\t\tconsole.log('search 触底');\r\n\t\tthis.doSearch(this.searchBody)\r\n\t},\r\n\tmethods: {\r\n\t\tgoodsListTap(e){\r\n\t\t\t// TODO: 某个物品的详情\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl:'/pages/id=' + e.id\r\n\t\t\t})\r\n\t\t},\r\n\t\tfinishDel(){\r\n\t\t\t// Arrow function's this will inherit from its nearest parent\r\n\t\t\tlet delIds = this.backHistories.filter(v=>this.histories.indexOf(v) === -1)\r\n\t\t\tconsole.log('delIds',delIds);\r\n\t\t\tif(delIds.length !== 0)\r\n\t\t\t\tthis.$api.delSearchHistory(delIds)\r\n\t\t\t\t\t.then(({data})=>{\r\n\t\t\t\t\t\tif(data.success){ //删除成功 success == true\r\n\t\t\t\t\t\t\tthis.backHistories = this.histories.slice(0)\r\n\t\t\t\t\t\t\tdeleteView = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除搜索记录失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})// 删除失败，恢复历史记录\r\n\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\t// this.histories = this.backHistories\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除搜索记录失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\telse\r\n\t\t\t\tthis.deleteView = false\r\n\t\t},\r\n\t\tcancelDel(){\r\n\t\t\t[...this.histories] = this.backHistories //数组展开,可作为左值，但对象展开不可作为左值\r\n\t\t\tthis.deleteView = false\r\n\t\t},\r\n\t\tdelAllHistory() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '确定要全部删除吗',\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tif(!e.cancel)\r\n\t\t\t\t\t\tthis.$api.clearSearchHistory(this.userId).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.success){\r\n\t\t\t\t\t\t\t\tthis.histories = []\r\n\t\t\t\t\t\t\t\tthis.backHistories = []\r\n\t\t\t\t\t\t\t\tthis.deleteView = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(()=>uni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetSearchHistory() {\r\n\t\t\tthis.$appi.getSearchHistory(this.userId).then(res => (this.histories = res.data.data))\r\n\t\t},\r\n\t\tasync onPullDown(done){\r\n\t\t\tthis.pagination = {...iniPagination} //对象展开\r\n\t\t\tawait this.doSearch(this.searchBody)\r\n\t\t\tdone() // 结束下拉刷新\r\n\t\t},\r\n\t\tsearchTap(key){\r\n\t\t\tif (typeof key === 'string') {\r\n\t\t\t\tthis.searchKey = key\r\n\t\t\t}\r\n\t\t\t// reset\r\n\t\t\tthis.pagination = {...iniPagination}\r\n\t\t\tthis.doSearch(null) // pass condition\r\n\t\t},\r\n\t\tconfirmFilter(e) {\r\n\t\t\tif ((this.filterValues.length === 0 && JSON.stringify(this.filterDropdownValue) === JSON.stringify(e.index)) || JSON.stringify(this.filterValues) === JSON.stringify(e.value))\r\n\t\t\t\treturn\r\n\r\n\t\t\tconsole.log('previous', this.filterValues)\r\n\t\t\tconsole.log('current', e.value)\r\n\t\t\tconsole.log('dropdown', this.filterDropdownValue)\r\n\t\t\tthis.filterValues = e.value\r\n\t\t\t\r\n\t\t\tthis.pagination = {...iniPagination}\r\n\t\t\t\r\n\t\t\t// do search with filter condition\r\n\t\t\tlet searchBody = Object.assign({\r\n\t\t\t\ttype: e.value[0][1],\r\n\t\t\t\taddress: e.value[1][0],\r\n\t\t\t},conditionMap(e.value[2][0], e.value[3][0][e.value[3][0].length - 1] || '',e.value[3][1]))\r\n\t\t\t\r\n\t\t\tthis.searchBody = searchBody\r\n\t\t\tconsole.log('index', e.index)\r\n\t\t\tconsole.log('search body', searchBody)\r\n\t\t\tthis.doSearch(searchBody)\r\n\t\t},\r\n\t\tBackPage() {\r\n\t\t\tuni.navigateBack()\r\n\t\t},\r\n\t\tsearchInput(event) {\r\n\t\t\tlet value = event.detail.value\r\n\t\t\tthis.searchKey = value\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.search_close = true\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_close = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseInput() {\r\n\t\t\tthis.searchKey = ''\r\n\t\t\tthis.search_close = false\r\n\t\t},\r\n\t\tasync doSearch(condition) {\r\n\t\t\tthis.loadStatus = 'loading'\r\n\t\t\t// 虚拟数据加载\r\n\t\t\tthis.searchView = false\r\n\t\t\t\r\n\t\t\t// 关键词 模糊搜索\r\n\t\t\tlet key = this.searchKey.trim().length == 0 ? '高数' : this.searchKey.trim()\r\n\t\t\tawait this.$api\r\n\t\t\t\t.getSearchResult(key, condition, this.pagination)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.searchView = false\r\n\t\t\t\t\tlet resp = res.data.data\r\n\t\t\t\t\tthis.goodsData.push(...resp.pageList)\r\n\t\t\t\t\tthis.pagination.pageIndex = resp.pageIndex\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(resp.pageIndex === resp.pageCount){\r\n\t\t\t\t\t\t// 没有更多数据了\r\n\t\t\t\t\t\tthis.loadStatus = 'noMore'\r\n\t\t\t\t\t\tthis.pagination.finish = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loadStatus = 'more'\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.loadStatus = 'more'\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '搜索失败，请检查网络',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n","import mod from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=7b93cc95&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=7b93cc95&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589978374810\n      var cssReload = require(\"H:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
{"version":3,"sources":["webpack:///D:/File/IDEApro/CampusTransaction/Frontend/main.js","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue?554c","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue?d706","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue?97cf","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue?8cee","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue?10c8","webpack:///D:/File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue?8217"],"names":["createPage","Page","iniPagination","pageIndex","pageSize","startTime","Date","format","finish","searchHistories","components","goodsList","HMfilterDropdown","uniLoadMore","youScroll","data","search_close","search_ph","searchKey","searchView","deleteView","backHistories","histories","recommendations","goodsData","filterData","filterDropdownValue","filterValues","loadStatus","pagination","searchBody","computed","leftGoods","filter","e","index","rightGoods","onLoad","param","console","log","_home_data","type_index","type","undefined","parseInt","typeName","address","sort","outdated","price","doSearch","setTimeout","filter_data","onReady","_tool","setBarColor","uni","pageScrollTo","scrollTop","duration","onReachBottom","methods","finishDel","delIds","v","indexOf","length","$api","delSearchHistory","then","success","slice","showToast","title","icon","catch","err","cancelDel","delAllHistory","showModal","content","cancel","clearSearchHistory","userId","res","getSearchHistory","$appi","onPullDown","done","searchTap","key","confirmFilter","JSON","stringify","value","Object","assign","BackPage","navigateBack","searchInput","event","detail","closeInput","condition","trim","getSearchResult","resp","push","pageList","pageCount"],"mappings":"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","file":"pages/search/search.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/search/search.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./search.vue?vue&type=template&id=72662045&scoped=true&\"\nvar renderjs\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nimport style0 from \"./search.vue?vue&type=style&index=0&id=72662045&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72662045\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"File/IDEApro/CampusTransaction/Frontend/pages/search/search.vue\"\nexport default component.exports","export * from \"-!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=template&id=72662045&scoped=true&\"","var components = {\n  \"you-scroll\": function() {\n    return import(\n      /* webpackChunkName: \"components/you-scroll/you-scroll\" */ \"@/components/you-scroll/you-scroll.vue\"\n    )\n  },\n  \"uni-load-more\": function() {\n    return import(\n      /* webpackChunkName: \"components/uni-load-more/uni-load-more\" */ \"@/components/uni-load-more/uni-load-more.vue\"\n    )\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      _vm.searchView = true\n    }\n\n    _vm.e1 = function($event) {\n      _vm.deleteView = true\n    }\n\n    _vm.e2 = function($event) {\n      return _vm.histories.splice(_vm.index, 1)\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nimport _tool from '@/static/zaiui/util/tools.js' //工具函数\r\nimport goodsList from '@/components/list/goods-list.vue'\r\nimport HMfilterDropdown from '@/components/HM-filterDropdown/HM-filterDropdown.vue'\r\nimport uniLoadMore from '@/components/uni-load-more/uni-load-more.vue'\r\nimport youScroll from '@/components/you-scroll/you-scroll.vue'\r\nimport { mapState } from 'vuex'\r\nimport handles from '@/utils/handles.js'\r\n\r\nimport _home_data from '@/static/zaiui/data/home.js' //虚拟数据\r\nimport filter_data from '../../static/data/filters.js'\r\n\r\nconst iniPagination = {\r\n\t\t\t\tpageIndex:0,\r\n\t\t\t\tpageSize:20,\r\n\t\t\t\tstartTime:new Date().format('yyyy-MM-dd hh:mm'),\r\n\t\t\t\tfinish: false\r\n\t\t\t}\r\nconst searchHistories = () => ['耳机', '大英课本', '四六级试卷', '电动车'] // virtual\r\n\r\nexport default {\r\n\tcomponents: {\r\n\t\tgoodsList,\r\n\t\tHMfilterDropdown,\r\n\t\tuniLoadMore,\r\n\t\tyouScroll\r\n\t},\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearch_close: false,\r\n\t\t\tsearch_ph: '高数',\r\n\t\t\tsearchKey: '',\r\n\t\t\tsearchView: true,\r\n\t\t\tdeleteView: false, // 删除搜索记录的视图\r\n\t\t\tbackHistories: searchHistories(),\r\n\t\t\thistories: searchHistories(),\r\n\t\t\trecommendations: ['耳机', '电动车', '笔记本', '华为手机', 'AJ鞋', '篮球'],\r\n\t\t\tgoodsData: [],\r\n\t\t\tfilterData: '',\r\n\t\t\tfilterDropdownValue: [],\r\n\t\t\tfilterValues: [],\r\n\t\t\tloadStatus: 'more',\r\n\t\t\tpagination:{\r\n\t\t\t\tpageIndex:0,\r\n\t\t\t\tpageSize:20,\r\n\t\t\t\tstartTime:'',\r\n\t\t\t\tfinish: false\r\n\t\t\t},\r\n\t\t\tsearchBody:null\r\n\t\t}\r\n\t},\r\n\tcomputed: {\r\n\t\t...mapState(['userId']),\r\n\t\tleftGoods() {\r\n\t\t\treturn this.goodsData.filter((e, index) => index % 2 === 0)\r\n\t\t},\r\n\t\trightGoods() {\r\n\t\t\treturn this.goodsData.filter((e, index) => index % 2 === 1)\r\n\t\t}\r\n\t},\r\n\tonLoad(param) {\r\n\t\tconsole.log('search page onLoad, param:', param)\r\n\t\tthis.goodsData = _home_data.goodsList() //虚拟\r\n\t\t\r\n\t\tlet type_index = 0\r\n\t\tif (param.type !== undefined) {\r\n\t\t\ttype_index = parseInt(param.type)\r\n\t\t\tconsole.log('type_index', type_index)\r\n\t\t\tthis.searchView = false // switch to result list\r\n\t\t\tlet searchBody = {\r\n\t\t\t\ttype: param.typeName,\r\n\t\t\t\taddress: '全校',\r\n\t\t\t\tsort: '最新',\r\n\t\t\t\toutdated: '',\r\n\t\t\t\tprice: '',\r\n\t\t\t}\r\n\t\t\tthis.doSearch(searchBody)\r\n\t\t\tthis.search_ph = ''\r\n\t\t}\r\n\t\t// Im: 必须用 setTimeout才能初始化\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.filterDropdownValue = [\r\n\t\t\t\t[0, type_index || 0], //type\r\n\t\t\t\t[0], //第2个菜单选中 一级菜单的第1项\r\n\t\t\t\t[0],\r\n\t\t\t\t[[], []] //筛选菜单选中 第一个筛选的第0项，第二个筛选的第1,2,7项，第三个筛选的第1,0项\r\n\t\t\t]\r\n\t\t\tthis.filterData = filter_data\r\n\t\t}, 0)\r\n\t},\r\n\tonReady() {\r\n\t\tconsole.log('ready', this.filterDropdownValue)\r\n\t\t_tool.setBarColor(true)\r\n\t\tuni.pageScrollTo({\r\n\t\t\tscrollTop: 0,\r\n\t\t\tduration: 0\r\n\t\t})\r\n\t},\r\n\tonReachBottom(){\r\n\t\tconsole.log('search 触底');\r\n\t\tthis.doSearch(this.searchBody)\r\n\t},\r\n\tmethods: {\r\n\t\tfinishDel(){\r\n\t\t\t// Arrow function's this will inherit from its nearest parent\r\n\t\t\tlet delIds = this.backHistories.filter(v=>this.histories.indexOf(v) === -1)\r\n\t\t\tconsole.log('delIds',delIds);\r\n\t\t\tif(delIds.length !== 0)\r\n\t\t\t\tthis.$api.delSearchHistory(delIds)\r\n\t\t\t\t\t.then(({data})=>{\r\n\t\t\t\t\t\tif(data.success){ //删除成功 success == true\r\n\t\t\t\t\t\t\tthis.backHistories = this.histories.slice(0)\r\n\t\t\t\t\t\t\tdeleteView = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除搜索记录失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})// 删除失败，恢复历史记录\r\n\t\t\t\t\t.catch(err=>{\r\n\t\t\t\t\t\t// this.histories = this.backHistories\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除搜索记录失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t})\r\n\t\t\telse\r\n\t\t\t\tthis.deleteView = false\r\n\t\t},\r\n\t\tcancelDel(){\r\n\t\t\t[...this.histories] = this.backHistories //数组展开,可作为左值，但对象展开不可作为左值\r\n\t\t\tthis.deleteView = false\r\n\t\t},\r\n\t\tdelAllHistory() {\r\n\t\t\tuni.showModal({\r\n\t\t\t\tcontent: '确定要全部删除吗',\r\n\t\t\t\tsuccess: (e) => {\r\n\t\t\t\t\tif(!e.cancel)\r\n\t\t\t\t\t\tthis.$api.clearSearchHistory(this.userId).then(res => {\r\n\t\t\t\t\t\t\tif (res.data.success){\r\n\t\t\t\t\t\t\t\tthis.histories = []\r\n\t\t\t\t\t\t\t\tthis.backHistories = []\r\n\t\t\t\t\t\t\t\tthis.deleteView = false\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.catch(()=>uni.showToast({\r\n\t\t\t\t\t\t\ttitle: '删除失败',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t}))\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\tgetSearchHistory() {\r\n\t\t\tthis.$appi.getSearchHistory(this.userId).then(res => (this.histories = res.data.data))\r\n\t\t},\r\n\t\tasync onPullDown(done){\r\n\t\t\tthis.pagination = {...iniPagination} //对象展开\r\n\t\t\tawait this.doSearch(this.searchBody)\r\n\t\t\tdone() // 结束下拉刷新\r\n\t\t},\r\n\t\tsearchTap(key){\r\n\t\t\tif (typeof key === 'string') {\r\n\t\t\t\tthis.searchKey = key\r\n\t\t\t}\r\n\t\t\t// reset\r\n\t\t\tthis.pagination = {...iniPagination}\r\n\t\t\tthis.doSearch(null) // pass condition\r\n\t\t},\r\n\t\tconfirmFilter(e) {\r\n\t\t\tif ((this.filterValues.length === 0 && JSON.stringify(this.filterDropdownValue) === JSON.stringify(e.index)) || JSON.stringify(this.filterValues) === JSON.stringify(e.value))\r\n\t\t\t\treturn\r\n\r\n\t\t\tconsole.log('previous', this.filterValues)\r\n\t\t\tconsole.log('current', e.value)\r\n\t\t\tconsole.log('dropdown', this.filterDropdownValue)\r\n\t\t\tthis.filterValues = e.value\r\n\t\t\t\r\n\t\t\tthis.pagination = {...iniPagination}\r\n\t\t\t\r\n\t\t\t// do search with filter condition\r\n\t\t\tlet searchBody = {\r\n\t\t\t\ttype: e.value[0][1],\r\n\t\t\t\taddress: e.value[1][0],\r\n\t\t\t\tsort: e.value[2][0],\r\n\t\t\t\toutdated: e.value[3][0][e.value[3][0].length - 1] || '',\r\n\t\t\t\tprice: e.value[3][1],\r\n\t\t\t}\r\n\t\t\tthis.searchBody = Object.assign({},searchBody)\r\n\t\t\tconsole.log('index', e.index)\r\n\t\t\tconsole.log('search body', searchBody)\r\n\t\t\tthis.doSearch(searchBody)\r\n\t\t},\r\n\t\tBackPage() {\r\n\t\t\tuni.navigateBack()\r\n\t\t},\r\n\t\tsearchInput(event) {\r\n\t\t\tlet value = event.detail.value\r\n\t\t\tthis.searchKey = value\r\n\t\t\tif (value) {\r\n\t\t\t\tthis.search_close = true\r\n\t\t\t} else {\r\n\t\t\t\tthis.search_close = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcloseInput() {\r\n\t\t\tthis.searchKey = ''\r\n\t\t\tthis.search_close = false\r\n\t\t},\r\n\t\tasync doSearch(condition) {\r\n\t\t\tthis.loadStatus = 'loading'\r\n\t\t\t// 虚拟数据加载\r\n\t\t\tthis.searchView = false\r\n\t\t\t\r\n\t\t\t// 关键词 模糊搜索\r\n\t\t\tlet key = this.searchKey.trim().length == 0 ? '高数' : this.searchKey.trim()\r\n\t\t\tawait this.$api\r\n\t\t\t\t.getSearchResult(key, condition, this.pagination)\r\n\t\t\t\t.then(res => {\r\n\t\t\t\t\tthis.searchView = false\r\n\t\t\t\t\tlet resp = res.data.data\r\n\t\t\t\t\tthis.goodsData.push(...resp.pageList)\r\n\t\t\t\t\tthis.pagination.pageIndex = resp.pageIndex\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(resp.pageIndex === resp.pageCount){\r\n\t\t\t\t\t\t// 没有更多数据了\r\n\t\t\t\t\t\tthis.loadStatus = 'noMore'\r\n\t\t\t\t\t\tthis.pagination.finish = true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.loadStatus = 'more'\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tthis.loadStatus = 'more'\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '搜索失败，请检查网络',\r\n\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n}\r\n","import mod from \"-!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=72662045&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Software/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./search.vue?vue&type=style&index=0&id=72662045&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1589334802066\n      var cssReload = require(\"D:/Software/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}